✅ 수강신청 + 빌넣 시스템 요구사항 분석 (최종)
1. 학생(Student)
학생은 학번(PK), 아이디, 비밀번호, 이름, 학년, 학과, 전 학기 학점 정보를 가진다.

학생은 회원가입 후 로그인하여 시스템에 접근할 수 있다.

학생은 전공, 학과, 교양 등의 필터를 통해 강의 목록을 조회할 수 있다.

학생은 강의에 대해 수강신청을 할 수 있다.

학생은 신청한 강의에 대해 수강신청을 취소할 수 있다.

학생은 수강신청 내역을 바탕으로 개인 시간표를 확인할 수 있다.

학생은 정원이 초과된 강의에 대해 빌넣(ExtraEnroll) 요청을 제출할 수 있다.

학생은 원하는 강의를 장바구니(Cart)에 담아둘 수 있다.

2. 교수(Professor)
교수는 교수번호(PK), 아이디, 비밀번호, 이름, 학과 정보를 가진다.

교수는 로그인하여 자신이 담당하는 강의 목록을 조회할 수 있다.

교수는 자신의 강의에 대한 빌넣 요청 현황을 조회할 수 있다.

교수는 각 빌넣 요청에 대해 "승인" 또는 "거절" 처리를 할 수 있다.

3. 강의(Course)
강의는 강의번호(PK), 강의명, 강의실, 교수번호(FK), 정원, 분반, 요일, 시작시간, 종료시간 정보를 가진다.

강의는 하나의 교수에 의해 담당된다 (Course 1 : Professor 1 관계).

강의는 요일, 시작시간, 종료시간 정보를 직접 보유한다 (별도 CourseTime 엔터티 없음).

4. 수강신청(Enroll)
수강신청은 신청번호(PK), 학번(FK), 강의번호(FK)로 구성된다.

한 학생은 여러 강의를 신청할 수 있고, 한 강의도 여러 학생이 신청할 수 있다 (N:M 관계, Enroll이 교차 테이블 역할).

신청번호는 자동으로 증가하며, 학번과 강의번호 조합은 유일해야 한다.

5. 빌넣 요청(ExtraEnroll)
빌넣 요청은 요청번호(PK), 학번(FK), 강의번호(FK), 사유(TEXT), 상태(VARCHAR)로 구성된다.

상태는 '대기', '승인', '거절' 중 하나여야 하며, CHECK 제약조건으로 관리한다.

동일 학생이 동일 강의에 대해 중복 요청할 수 없다.

6. 장바구니(Cart)
장바구니는 장바구니번호(PK), 학번(FK), 강의번호(FK)로 구성된다.

학생은 관심 있는 강의를 미리 장바구니에 담을 수 있다.

동일 학생이 동일 강의를 중복 담을 수 없다.

7. 추가 요구사항
모든 INSERT, DELETE, UPDATE는 트랜잭션(Transaction)으로 처리하여 데이터 일관성을 보장한다.

SQL Injection을 방지하기 위해 prepared statement를 사용하고, 입력값 유효성 검사를 병행한다.

학생과 교수는 각각 로그인 시 아이디와 비밀번호를 사용하며, 세션(Session) 기반으로 권한을 관리한다.


✅ 수강신청 + 빌넣 시스템 요구사항 분석 (User 테이블 통합 최종)

1. 사용자(User)
사용자는 UserID(PK), 아이디, 비밀번호, 이름, 역할(Role), 학번, 교수번호, 학년, 학과, 전학기학점 정보를 가진다.

역할(Role)은 'student' 또는 'professor' 중 하나로 설정된다.

학번, 학년, 전학기학점은 학생(student)만 입력하고, 교수번호는 교수(professor)만 입력한다.

사용자 아이디는 UNIQUE 해야 한다.

사용자는 아이디와 비밀번호로 로그인할 수 있으며, 로그인 후 자신의 역할(Role)에 따라 접근 가능한 기능이 다르게 설정된다.

2. 학생(Student 역할의 User)
학생은 강의 목록을 조회할 수 있다 (전공/교양/학과/단과대학 필터링 지원).

학생은 강의에 대해 수강신청(Enroll)을 할 수 있다.

학생은 수강신청한 강의를 조회하고, 수강신청 기간 내에 신청을 취소할 수 있다.

학생은 신청한 강의들을 기준으로 개인 주간 시간표를 조회할 수 있다.

학생은 정원 초과된 강의에 대해 빌넣 요청(ExtraEnroll)을 할 수 있다.

학생은 관심 있는 강의를 장바구니(Cart)에 담아둘 수 있다.

3. 교수(Professor 역할의 User)
교수는 자신이 담당하는 강의 목록을 조회할 수 있다.

교수는 해당 강의에 대한 학생들의 빌넣 요청(ExtraEnroll) 목록을 확인할 수 있다.

교수는 각 빌넣 요청에 대해 "승인" 또는 "거절" 처리를 할 수 있다.

4. 강의(Course)
강의는 강의번호(PK), 강의명, 강의실, 교수(UserID FK), 정원, 분반, 요일, 시작시간, 종료시간 정보를 가진다.

하나의 강의는 반드시 한 명의 교수(User)에게 소속되어야 한다.

5. 수강신청(Enroll)
수강신청은 신청번호(PK), UserID(FK), 강의번호(FK)로 구성된다.

한 학생은 여러 강의를 신청할 수 있고, 하나의 강의도 여러 학생이 신청할 수 있다.

학번(학생)과 강의번호 조합은 UNIQUE해야 한다.

수강신청 시 강의 정원이 초과되면 신청이 차단된다.

6. 빌넣 요청(ExtraEnroll)
빌넣 요청은 요청번호(PK), UserID(FK), 강의번호(FK), 사유(TEXT), 상태(VARCHAR)로 구성된다.

상태는 '대기', '승인', '거절' 중 하나로 관리되며, CHECK 제약 조건을 설정한다.

동일 학생이 동일 강의에 대해 중복 빌넣 요청을 할 수 없다.

7. 장바구니(Cart)
장바구니는 장바구니번호(PK), UserID(FK), 강의번호(FK)로 구성된다.

학생은 관심 강의를 장바구니에 추가할 수 있다.

동일 학생이 동일 강의를 장바구니에 중복 담을 수 없다.

8. 추가 시스템 요구사항
모든 INSERT, DELETE, UPDATE는 트랜잭션(Transaction)으로 처리해 데이터 일관성을 보장한다.

SQL Injection을 방지하기 위해 prepared statement를 사용하고 입력 값 검증을 수행한다.

사용자 로그인 세션(Session)을 이용해 역할(Role)별로 접근 가능한 기능을 제한한다.

시간표(TimeTable)는 View를 통해 동적으로 생성하며, 요일과 시간 순서로 정렬하여 표시한다.